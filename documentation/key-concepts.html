<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Key concepts</title>
</head>
<body>
  <h1>Key concepts</h1>
  <!-- TODO: table-of-contents or submenu -->
  <h2 id="projects">Identify the artifacts you want to sign together</h2>
  <p>In SignPath, you define a project for each artifact, or a set of artifacts that should be signed in a single step. Typically, there is one set of artifacts per software product, development team or project. If you use continuous integration (CI) tools, the artifacts will be the output of a single build configuration, or a part of it. Or maybe you have several build configurations that create different versions of structurally identical artifacts – those can still be represented by a single SignPath project. (If you don’t use CI, we highly recommend starting now. A reproducible build process is a most basic ingredient for safe code signing.)</p>
  <p>At the core of each SignPath project is an artifact configuration. It describes the file type of your artifact and a corresponding code signing method (e.g. an EXE file signed with Authenticode). You can also sign multiple files or complex nested artifacts, e.g.</p>
  <ul>
 	  <li>a ZIP archive containing several artifacts that need Authenticode signing</li>
 	  <li>a CAB file containing EXE and DLL files, all of which should be signed with Authenticode</li>
 	  <li>an MSI installer containing an Office add-in, which in turn contains DLLs – the MSI file and the DLLs should be signed using Authenticode, while the Office add-in has a ClickOnce manifest that requires manifest signing</li>
  </ul>
  <!-- TODO: link needs to be updated -->
  <p>For complex nested artifacts, creating the artifact configuration is a bit more involved. You need to create an XML file that describes the artifact, with all its nested elements, and the signing actions you want performed on these files. See <a href="https://signpath-io.int.rubicon-it.com/home/creating-an-artifact-configuration/">Creating an artifact configuration</a>.</p>
  <p>Note that a tight configuration of your artifact reduces the risk of unwanted signatures. Add constraints liberally.</p>
  <h2 id="signing-policies">Create signing policies for each project</h2>
  <p>The same project is usually signed for different purposes, most commonly test- and release-signing. Define signing policies for each project as required.</p>
  <table>
    <thead>
      <tr>
        <th>Signing Policy</th>
        <th>Purpose</th>
        <th>Certificate requirements</th>
        <th>Signing requirements</th>
        <th>Remarks</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Test-signing</td>
        <td>
          <ul>
            <li>Signing software for internal and external testing</li>
            <li>Testing signing configurations</li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Distribute certificate only to testing devices</li>
            <li>Usually a self-signed certificate</li>
          </ul>
        </td>
        <td>Limited to certain submitters (persons or CI)</td>
        <td>Since the scope of the certificate is very limited and builds are frequent, manual approval is usually not required.</td>
      </tr>
      <tr>
        <td>Release-signing</td>
        <td>Signing software for
          <ul>
            <li>Distribution to customers and users</li>
            <li>Installation on production environments</li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Purchased from a public CA</li>
            <li>Issued by an in-house CA if only used internally</li>
          </ul>
        </td>
        <td>Usually requires manual approval for each build</td>
        <td>Release certificates are an attractive target. Be sure to review each signing request carefully before approval and don’t approve unexpected releases. Also, CI integration will help to make the entire build process more traceable.</td>
      </tr>
    </tbody>
  </table>
  <p>You might need more signing policies. For example, you might want to introduce an approval process for some submitters, but not for others. Or you might use different certificates for various kinds of builds. Define any number of signing policies to meet your organization’s requirements.</p>
</body>
</html>
